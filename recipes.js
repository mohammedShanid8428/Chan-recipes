const recipes = [
  {
    id: "chicken-mandi",
    title: "Chicken Mandi",
    description:
      "Chicken Mandi is a traditional Yemeni rice dish made with fragrant basmati rice, slow-cooked spiced chicken, and a smoky, flavorful seasoning blend. This iconic Arab dish has become a regional favorite, especially in Kerala and the Gulf countries. Served with a side of spiced tomato chutney and sometimes mandi soup, itâ€™s both festive and deeply satisfying.",
    image: "resources/mandi.jpeg",
    source: "",
    prepTime: {
      total: "1 hour 15 minutes"
    },
    servings: 3,
    ingredients: [
      "3 chicken leg quarters",
      "1 Â½ cups basmati rice",
      "1 large onion, sliced",
      "1 tomato, chopped",
      "4 cloves garlic",
      "1-inch ginger",
      "1 tsp black pepper",
      "1 tsp cumin",
      "1 tsp coriander",
      "1/2 tsp turmeric",
      "1/2 tsp cinnamon",
      "1 tsp garam masala or mandi masala",
      "3 tbsp oil or ghee",
      "Salt to taste",
      "Water or chicken stock (as needed)",
      "Fresh coriander & lemon wedges (for garnish)"
    ],
    instructions: [
      "Wash and soak basmati rice for 20 minutes.",
      "In a large pan, sautÃ© onions, garlic, and ginger in oil/ghee until golden.",
      "Add tomatoes and all the spices. Cook until the oil separates.",
      "Add chicken pieces, coat well with the masala, and sear on both sides.",
      "Add water or chicken stock and cover to simmer for 20â€“25 minutes until chicken is tender.",
      "Remove chicken and place on a baking tray. Broil or roast at high heat for a crispy top.",
      "Add soaked rice to the broth in the pan, adjust seasoning, and cook rice until fluffy.",
      "Serve rice on a plate topped with roasted chicken. Garnish with fresh coriander and lemon wedges."
    ],
    nutrition: {
      calories: "720kcal",
      carbohydrates: "60g",
      protein: "38g",
      fat: "32g",
      saturatedFat: "10g",
      energy: "3014KJ",
      fiber: "4g",
      sugar: "3g",
      cholesterol: "120mg",
      sodium: "1100mg"
    }
  },
  {
    id: "chicken-biryani",
    title: "Chicken Biryani",
    description:
      "Chicken Biryani is a royal and aromatic dish made by layering marinated chicken with long-grain basmati rice, cooked with whole spices and herbs. The chicken is typically marinated in yogurt, spices, and fried onions, making it tender and flavorful. Itâ€™s then slow-cooked using the dum method, allowing the flavors to infuse deeply into every grain of rice. Garnished with fresh mint, coriander, and a drizzle of ghee, this dish is the ultimate centerpiece for festive meals and celebrations.",
    image: "resources/briyani.avif",
    source: "https://www.indianhealthyrecipes.com/chicken-biryani/",
    prepTime: {
      total: "1 hour 30 minutes"
    },
    servings: 4,
    ingredients: [
      "2 cups basmati rice",
      "500g chicken, bone-in",
      "2 large onions, sliced",
      "1 cup yogurt",
      "2 tomatoes, chopped",
      "1 tbsp ginger-garlic paste",
      "1 tsp garam masala",
      "1/2 tsp turmeric",
      "1/2 tsp red chili powder",
      "Whole spices (bay leaf, cloves, cinnamon, cardamom)",
      "Fresh mint and coriander leaves",
      "4 tbsp oil or ghee",
      "Salt to taste"
    ],
    instructions: [
      "Soak rice for 30 minutes. Fry onions till golden and crisp.",
      "Marinate chicken with yogurt, spices, and half of the fried onions for 30 minutes.",
      "Parboil the soaked rice with whole spices like bay leaf, cloves, and cardamom until 70% cooked. Drain and keep aside.",
      "In a heavy-bottomed pot, layer half the rice at the bottom, followed by marinated chicken.",
      "Add another layer of rice on top, then sprinkle mint, coriander, remaining fried onions, and drizzle ghee.",
      "Seal the lid with dough or cover tightly with foil and cook on low flame (dum) for 25â€“30 minutes.",
      "Turn off heat and let the biryani rest for 10 minutes before opening to allow flavors to settle.",
      "Gently fluff the rice before serving, ensuring layers remain intact.",
      "Serve hot with raita, boiled egg, or salad for a complete meal."
    ],
    nutrition: {
      calories: "820kcal",
      carbohydrates: "75g",
      protein: "42g",
      fat: "38g",
      saturatedFat: "14g",
      energy: "3430KJ",
      fiber: "5g",
      sugar: "4g",
      cholesterol: "140mg",
      sodium: "950mg"
    }
  },
  {
    id: "mutton-curry",
    title: "Kerala Mutton Curry",
    description:
      "A spicy and flavorful mutton curry from Kerala made with roasted coconut, black pepper, and a rich blend of traditional spices. This dish showcases the essence of Kerala cuisine with its deep, earthy flavors and the aroma of curry leaves and coconut oil. The slow-cooked mutton becomes incredibly tender, soaking up the intensely spiced gravy. Often enjoyed with Kerala porotta, appam, or rice, this curry is a festive favorite, perfect for weekend meals or special occasions.",
    image: "resources/mutton.jpeg",
    source: "",
    prepTime: {
      total: "1 hour 20 minutes"
    },
    servings: 4,
    ingredients: [
      "500g mutton (bone-in)",
      "1 onion, finely sliced",
      "1 tomato, chopped",
      "1 tbsp ginger-garlic paste",
      "1/2 cup grated coconut, roasted",
      "1 tsp black pepper",
      "1 tsp coriander powder",
      "1/2 tsp turmeric powder",
      "1 tsp garam masala",
      "Curry leaves",
      "3 tbsp coconut oil",
      "Salt to taste"
    ],
    instructions: [
      "Toast whole spices like fennel seeds, cloves, and cinnamon in coconut oil for enhanced flavor.",
      "Heat oil and sautÃ© onions, ginger-garlic paste, and curry leaves until golden brown.",
      "Add tomatoes and all the ground spices. Cook until the oil separates from the masala.",
      "Add the cleaned mutton pieces and stir well to coat them with the masala.",
      "Sear the mutton on high heat for a few minutes until slightly browned.",
      "Add water, cover, and pressure cook until the mutton is tender (about 4â€“5 whistles).",
      "Grind the roasted grated coconut to a fine paste using a little water.",
      "Add the coconut paste to the cooked mutton and mix well.",
      "Add a splash of coconut milk for a richer, creamy texture and simmer for 10 minutes.",
      "Check salt and adjust consistency as needed. Let the curry thicken slightly.",
      "Finish with a drizzle of ghee and garnish with fresh curry leaves.",
      "Serve hot with steamed rice, Kerala red rice, or flaky porottas."
    ],
    nutrition: {
      calories: "760kcal",
      carbohydrates: "18g",
      protein: "39g",
      fat: "58g",
      saturatedFat: "20g",
      energy: "3180KJ",
      fiber: "3g",
      sugar: "2g",
      cholesterol: "130mg",
      sodium: "870mg"
    }
  },
  {
    id: "beef-curry-porotta",
    title: "Porotta & Beef  ",
    description:
      "Classic Kerala-style beef curry served with flaky, layered porotta. A hearty and spicy combo loved across the region. This rich and deeply spiced curry is slow-cooked with aromatic masalas, caramelized onions, and coconut oil, giving it an intense flavor and dark color. The beef becomes tender and succulent as it simmers in the robust gravy. Paired with buttery, soft Kerala porottas, this dish is a staple at Kerala homes, street-side eateries, and festive occasions.",
    image: "resources/porotta&beef.jpg",
    source: "",
    prepTime: {
      total: "1 hour"
    },
    servings: 4,
    ingredients: [
      "500g beef cubes",
      "1 onion, finely chopped",
      "1 tomato, chopped",
      "1 tbsp ginger-garlic paste",
      "1/2 tsp turmeric powder",
      "1 tsp chili powder",
      "1 tsp coriander powder",
      "1 tsp garam masala",
      "Curry leaves",
      "3 tbsp coconut oil",
      "Salt to taste",
      "Readymade Kerala porottas (store-bought or homemade)"
    ],
    instructions: [
      "Heat coconut oil in a heavy-bottomed pan or pressure cooker.",
      "Add finely chopped onions and sautÃ© until golden brown.",
      "Stir in ginger-garlic paste and curry leaves, and sautÃ© until the raw smell disappears.",
      "Add chopped tomatoes and cook until soft.",
      "Add all the ground spices â€“ turmeric, chili powder, coriander powder, and garam masala. Cook until the oil separates from the masala.",
      "Add cleaned beef cubes to the masala and sautÃ© on high flame for 5â€“7 minutes until lightly browned and well-coated.",
      "Pour enough water to cover the meat and pressure cook for 5â€“6 whistles or until the beef is tender.",
      "Once cooked, open the lid and simmer the curry uncovered to reduce and thicken the gravy.",
      "Adjust salt and spice levels if needed. You can also add a few curry leaves for enhanced aroma.",
      "For a roasted flavor, dry roast 1 tsp of fennel seeds and 1 dry red chili, crush, and sprinkle on top before serving.",
      "Serve hot with flaky Kerala porottas or steamed rice."
    ],
    nutrition: {
      calories: "790kcal",
      carbohydrates: "35g",
      protein: "36g",
      fat: "54g",
      saturatedFat: "18g",
      energy: "3310KJ",
      fiber: "2g",
      sugar: "3g",
      cholesterol: "125mg",
      sodium: "940mg"
    }
  }
];


window.addEventListener("DOMContentLoaded", () => {
  const params = new URLSearchParams(window.location.search);
  const recipeId = params.get("id");
  console.log("Recipe ID:", recipeId);

  const recipe = recipes.find((r) => r.id === recipeId);
  console.log(recipe)

  if (!recipe) {
    document.body.innerHTML = "<h1>Recipe not found ðŸ˜¢</h1>";
    return;
  }

  // Populate image and source
  document.getElementById("recipe-image").src = recipe.image;
  document.getElementById("recipe-image").alt = recipe.title;
  document.getElementById("recipe-source").href = recipe.source;

  // Title and description
  document.getElementById("recipe-title").textContent = recipe.title;
  document.getElementById("recipe-description").textContent = recipe.description;

  // Prep time and servings
  document.getElementById("prep-time").textContent = recipe.prepTime.total;
  document.getElementById("servings-count").textContent = recipe.servings;

  // Ingredients
  const ingredientsList = document.getElementById("ingredients-list");
  ingredientsList.innerHTML = ""; // clear any existing
  recipe.ingredients.forEach((item) => {
    const li = document.createElement("li");
    li.textContent = item;
    ingredientsList.appendChild(li);
  });

  // Instructions
  const instructionsList = document.getElementById("instructions-list");
  instructionsList.innerHTML = ""; // clear any existing
  recipe.instructions.forEach((step) => {
    const li = document.createElement("li");
    li.textContent = step;
    instructionsList.appendChild(li);
  });

  // Nutrition (split into 2 columns)
  const nutritionKeys = Object.keys(recipe.nutrition);
  const nutritionValues = Object.values(recipe.nutrition);
  const mid = Math.ceil(nutritionKeys.length / 2);

  const col1 = document.getElementById("nutrition-col-1");
  const col1Vals = document.getElementById("nutrition-col-1-values");
  const col2 = document.getElementById("nutrition-col-2");
  const col2Vals = document.getElementById("nutrition-col-2-values");

  col1.innerHTML = "";
  col1Vals.innerHTML = "";
  col2.innerHTML = "";
  col2Vals.innerHTML = "";

  for (let i = 0; i < mid; i++) {
    col1.appendChild(createLi(capitalize(nutritionKeys[i])));
    col1Vals.appendChild(createLi(nutritionValues[i]));
  }

  for (let i = mid; i < nutritionKeys.length; i++) {
    col2.appendChild(createLi(capitalize(nutritionKeys[i])));
    col2Vals.appendChild(createLi(nutritionValues[i]));
  }

  function createLi(text) {
    const li = document.createElement("li");
    li.textContent = text;
    return li;
  }

  function capitalize(key) {
    const words = key.replace(/([A-Z])/g, " $1");
    return words.charAt(0).toUpperCase() + words.slice(1);
  }
});
